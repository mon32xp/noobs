
    let score = 0;
    let gold = 0;
    let clicks = 0;
    let level = 1;
    let combo = 0;
    let clickPower = 1;
    let comboTimer = null;
    let doublePointsActive = false;
    let autoClickerActive = false;
    let megaComboActive = false;
    let goldenRushActive = false;
    let achievements = [];
    let lastClickTime = 0;

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
    let shopItems = {
      clickBooster: { owned: false, cost: 10 },
      luckyCharm: { owned: false, cost: 25 },
      timeExtender: { owned: false, cost: 30 },
      comboMaster: { owned: false, cost: 40 },
      goldMagnet: { owned: false, cost: 60 },
      rainbow: { owned: false, cost: 100 }
    };

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
    let skills = {
      strength: { level: 0, maxLevel: 10, baseCost: 5 },
      speed: { level: 0, maxLevel: 10, baseCost: 8 },
      luck: { level: 0, maxLevel: 10, baseCost: 12 },
      focus: { level: 0, maxLevel: 10, baseCost: 15 },
      persistence: { level: 0, maxLevel: 10, baseCost: 20 },
      wisdom: { level: 0, maxLevel: 10, baseCost: 25 }
    };

    const wasim = document.getElementById('wasim');
    const texts = document.getElementById('texts');

    const phrases = [
      'ÙˆØ³ÙŠÙ… Ù†ÙˆØ¨! ğŸ˜',
      'ÙˆØ³ÙŠÙ… Ù†ÙˆØ¨ Ù„Ù„Ø£Ø¨Ø¯! ğŸ”¥',
      'Ù†ÙˆØ¨ ÙˆØ³ÙŠÙ…! â­',
      'ÙˆØ³ÙŠÙ… = Ù†ÙˆØ¨ ğŸ’¯',
      'Ù†ÙˆÙˆÙˆÙˆÙˆØ¨! ğŸ¯',
      'ÙˆØ³ÙŠÙ…Ø©!ğŸ‘© ',
      'Ù†ÙˆØ¨ Ø¨Ø§Ù…ØªÙŠØ§Ø² ğŸ†',
      'ÙˆØ³ÙŠÙ… ÙƒÙŠÙ†Ø¬ Ù†ÙˆØ¨! ğŸ®',
      'Ù†ÙˆØ¨ ÙˆØ³ÙŠÙ… Ø¨Ø±Ùˆ! ğŸ’',
      'ÙˆØ³ÙŠÙ… Ù…Ø§Ø³ØªØ± Ù†ÙˆØ¨! ğŸŒŸ'
    ];

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù„Ù…Ø³ ÙˆØ§Ù„Ù†Ù‚Ø±
    wasim.addEventListener('touchstart', handleTouch, { passive: false });
    wasim.addEventListener('click', clickWasim);

    function handleTouch(event) {
      event.preventDefault();
      const touch = event.touches[0];
      clickWasim({
        clientX: touch.clientX,
        clientY: touch.clientY
      });
    }

    function switchTab(tabName) {
      // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø­Ø¯Ø¯
      document.getElementById(tabName + 'Tab').classList.add('active');
      event.target.classList.add('active');

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­Ù‡Ù…Ø§
      if (tabName === 'shop') updateShop();
      if (tabName === 'skills') updateSkills();
    }
function goToHome() {
  window.location.href = "index.html"; 
}

    function clickWasim(event) {
      const currentTime = Date.now();
      const timeDiff = currentTime - lastClickTime;
      
      clicks++;
      combo++;
      
      // ÙØ­Øµ Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø³Ø±ÙŠØ¹
      if (timeDiff < 200 && clicks > 10) {
        checkSpeedAchievement();
      }
      
      lastClickTime = currentTime;
      
      // Ø­Ø³Ø§Ø¨ Ù‚ÙˆØ© Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
      let totalClickPower = clickPower;
      totalClickPower += skills.strength.level * 2; // ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰ Ù‚ÙˆØ© ÙŠØ¶ÙŠÙ 2
      if (shopItems.clickBooster.owned) totalClickPower += 3;
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
      let points = Math.max(1, Math.floor(combo / 2) + totalClickPower);
      if (doublePointsActive) points *= 2;
      if (megaComboActive) points *= 3;
      if (skills.focus.level > 0) points += Math.floor(skills.focus.level / 2);
      
      score += points;
      
      // Ù‡Ù„ Ø³Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø°Ù‡Ø¨ØŸ
      let goldEarned = 0;
      let goldChance = 0.1 + (skills.luck.level * 0.05); // 10% Ø£Ø³Ø§Ø³ÙŠØ© + 5% Ù„ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰ Ø­Ø¸
      if (shopItems.luckyCharm.owned) goldChance += 0.15;
      if (goldenRushActive) goldChance += 0.3;
      
      if (Math.random() < goldChance) {
        goldEarned = Math.max(1, Math.floor(level / 2) + skills.wisdom.level);
        if (shopItems.goldMagnet.owned) goldEarned = Math.floor(goldEarned * 1.5);
        gold += goldEarned;
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙˆÙ‰
      const newLevel = Math.floor(score / 100) + 1;
      if (newLevel > level) {
        level = newLevel;
        showLevelUp();
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
      wasim.classList.add('clicked');
      setTimeout(() => wasim.classList.remove('clicked'), 600);
      
      // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ø®Ø§ØµØ©
      if (shopItems.rainbow.owned) {
        wasim.style.background = `linear-gradient(45deg, hsl(${Math.random() * 360}, 70%, 60%), hsl(${Math.random() * 360}, 70%, 60%))`;
        setTimeout(() => {
          wasim.style.background = 'linear-gradient(45deg, #ff6b6b, #ee5a52)';
        }, 300);
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ù†Øµ Ø·Ø§Ø¦Ø±
      createFloatingText(event, goldEarned > 0 ? `+${points} | ğŸ’°${goldEarned}` : `+${points}`);
      
      // Ø¥Ø¶Ø§ÙØ© Ù†Øµ Ø¬Ø¯ÙŠØ¯
      const newText = document.createElement('div');
      newText.classList.add('new-text');
      const phrase = phrases[Math.floor(Math.random() * phrases.length)];
      let textContent = `${phrase} <strong>(+${points} Ù†Ù‚Ø·Ø©)`;
      if (goldEarned > 0) textContent += ` ğŸ’°+${goldEarned}`;
      textContent += '</strong>';
      newText.innerHTML = textContent;
      
      if (combo >= 5) {
        const comboText = document.createElement('div');
        comboText.classList.add('combo');
        comboText.textContent = `ğŸ”¥ ÙƒÙˆÙ…Ø¨Ùˆ ${combo}x! ğŸ”¥`;
        texts.appendChild(comboText);
      }
      
      // ÙØ­Øµ Ø§Ù„Ù…Ø¹Ø§Ù„Ù…
      if (score % 500 === 0 && score > 0) {
        newText.classList.add('score-milestone');
        newText.innerHTML += ` ğŸ‰ Ù…Ø¹Ù„Ù… ${score} Ù†Ù‚Ø·Ø©!`;
      }
      
      texts.appendChild(newText);
      texts.scrollTop = texts.scrollHeight;
      
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
      if (texts.childElementCount > 15) {
        texts.removeChild(texts.firstChild);
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
      updateDisplay();
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…Ø¤Ù‚Øª Ø§Ù„ÙƒÙˆÙ…Ø¨Ùˆ
      clearTimeout(comboTimer);
      let comboTimeout = 3000;
      if (shopItems.comboMaster.owned) comboTimeout = 5000;
      comboTimeout += skills.persistence.level * 200;
      
      comboTimer = setTimeout(() => {
        combo = 0;
        updateDisplay();
      }, comboTimeout);
      
      // ÙØ­Øµ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
      checkAchievements();
      
      // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚ÙˆÙ‰
      updatePowerButtons();
      
      // Ø§Ù‡ØªØ²Ø§Ø² Ø®ÙÙŠÙ Ù„Ù„Ø¬ÙˆØ§Ù„
      if (navigator.vibrate) {
        navigator.vibrate(30 + skills.speed.level * 5);
      }
    }

    function createFloatingText(event, text) {
      const floatingText = document.createElement('div');
      floatingText.classList.add('floating-text');
      floatingText.textContent = text;
      
      const rect = wasim.getBoundingClientRect();
      const x = rect.left + Math.random() * rect.width;
      const y = rect.top + rect.height/2;
      
      floatingText.style.left = x + 'px';
      floatingText.style.top = y + 'px';
      floatingText.style.position = 'fixed';
      
      document.body.appendChild(floatingText);
      
      setTimeout(() => {
        if (document.body.contains(floatingText)) {
          document.body.removeChild(floatingText);
        }
      }, 2000);
    }

    function showLevelUp() {
      const levelUpText = document.createElement('div');
      levelUpText.classList.add('new-text', 'score-milestone');
      levelUpText.innerHTML = `ğŸŠ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ÙˆØµÙ„Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ ${level}! ğŸŠ`;
      texts.appendChild(levelUpText);
      texts.scrollTop = texts.scrollHeight;
      
      // Ø§Ù‡ØªØ²Ø§Ø² Ù‚ÙˆÙŠ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯
      if (navigator.vibrate) {
        navigator.vibrate([200, 100, 200]);
      }
    }

    function updateDisplay() {
      document.getElementById('score').textContent = score.toLocaleString();
      document.getElementById('gold').textContent = gold.toLocaleString();
      document.getElementById('clicks').textContent = clicks.toLocaleString();
      document.getElementById('level').textContent = level;
      document.getElementById('combo').textContent = combo;
      
      // Ø­Ø³Ø§Ø¨ Ù‚ÙˆØ© Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
      let totalClickPower = clickPower + skills.strength.level * 2;
      if (shopItems.clickBooster.owned) totalClickPower += 3;
      document.getElementById('clickPower').textContent = totalClickPower;
    }

    function updatePowerButtons() {
      const doubleBtn = document.getElementById('doublePoints');
      const autoBtn = document.getElementById('autoClicker');
      const megaBtn = document.getElementById('megaCombo');
      const goldenBtn = document.getElementById('goldenRush');
      
      doubleBtn.disabled = score < 100;
      autoBtn.disabled = score < 200;
      megaBtn.disabled = score < 300;
      goldenBtn.disabled = score < 150;
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù‚ÙˆÙ‰ Ø§Ù„Ù†Ø´Ø·Ø©
      doubleBtn.classList.toggle('powerup-active', doublePointsActive);
      autoBtn.classList.toggle('powerup-active', autoClickerActive);
      megaBtn.classList.toggle('powerup-active', megaComboActive);
      goldenBtn.classList.toggle('powerup-active', goldenRushActive);
    }

    function activateDoublePoints() {
      if (score >= 100 && !doublePointsActive) {
        score -= 100;
        doublePointsActive = true;
        updateDisplay();
        
        let duration = 15000;
        if (shopItems.timeExtender.owned) duration = 25000;
        
        setTimeout(() => {
          doublePointsActive = false;
          updatePowerButtons();
        }, duration);
        
        addMessage(`ğŸš€ Ù†Ù‚Ø§Ø· Ù…Ø¶Ø§Ø¹ÙØ© Ù…ÙØ¹Ù„Ø© Ù„Ù…Ø¯Ø© ${duration/1000} Ø«Ø§Ù†ÙŠØ©!`);
        updatePowerButtons();
      }
    }

    function activateAutoClicker() {
      if (score >= 200 && !autoClickerActive) {
        score -= 200;
        autoClickerActive = true;
        updateDisplay();
        
        let duration = 20000;
        let interval = 800 - (skills.speed.level * 50);
        if (shopItems.timeExtender.owned) duration = 30000;
        
        const autoInterval = setInterval(() => {
          if (!autoClickerActive) {
            clearInterval(autoInterval);
            return;
          }
          const rect = wasim.getBoundingClientRect();
          clickWasim({ 
            clientX: rect.left + rect.width/2, 
            clientY: rect.top + rect.height/2 
          });
        }, Math.max(200, interval));
        
        setTimeout(() => {
          autoClickerActive = false;
          updatePowerButtons();
        }, duration);
        
        addMessage(`ğŸ¤– Ù†Ù‚Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…ÙØ¹Ù„ Ù„Ù…Ø¯Ø© ${duration/1000} Ø«Ø§Ù†ÙŠØ©!`);
        updatePowerButtons();
      }
    }

    function activateMegaCombo() {
      if (score >= 300 && !megaComboActive) {
        score -= 300;
        megaComboActive = true;
        updateDisplay();
        
        let duration = 12000;
        if (shopItems.timeExtender.owned) duration = 20000;
        
        setTimeout(() => {
          megaComboActive = false;
          updatePowerButtons();
        }, duration);
        
        addMessage(`âš¡ ÙƒÙˆÙ…Ø¨Ùˆ Ø¹Ù…Ù„Ø§Ù‚ Ù…ÙØ¹Ù„ Ù„Ù…Ø¯Ø© ${duration/1000} Ø«Ø§Ù†ÙŠØ©!`);
        updatePowerButtons();
      }
    }

    function activateGoldenRush() {
      if (score >= 150 && !goldenRushActive) {
        score -= 150;
        goldenRushActive = true;
        updateDisplay();
        
        let duration = 10000;
        if (shopItems.timeExtender.owned) duration = 18000;
        
        setTimeout(() => {
          goldenRushActive = false;
          updatePowerButtons();
        }, duration);
        
        addMessage(`ğŸ’° Ø°Ù‡Ø¨ Ù…Ø¶Ø§Ø¹Ù Ù…ÙØ¹Ù„ Ù„Ù…Ø¯Ø© ${duration/1000} Ø«Ø§Ù†ÙŠØ©!`);
        updatePowerButtons();
      }
    }

    function addMessage(message) {
      const newText = document.createElement('div');
      newText.classList.add('new-text');
      newText.innerHTML = `ğŸ“¢ ${message}`;
      texts.appendChild(newText);
      texts.scrollTop = texts.scrollHeight;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ¬Ø±
    function updateShop() {
      Object.keys(shopItems).forEach(itemKey => {
        const button = document.getElementById(itemKey);
        const item = shopItems[itemKey];
        
        if (item.owned) {
          button.classList.add('owned');
          button.innerHTML = button.innerHTML.replace(/\d+ Ø°Ù‡Ø¨/, 'Ù…ÙØ´ØªØ±Ù‰ âœ…');
          button.disabled = true;
        } else {
          button.disabled = gold < item.cost;
        }
      });
    }

    function buyShopItem(itemKey) {
      const item = shopItems[itemKey];
      if (gold >= item.cost && !item.owned) {
        gold -= item.cost;
        item.owned = true;
        updateDisplay();
        updateShop();
        
        const itemNames = {
          clickBooster: 'Ù…Ø¹Ø²Ø² Ø§Ù„Ù†Ù‚Ø±',
          luckyCharm: 'ØªØ¹ÙˆÙŠØ°Ø© Ø§Ù„Ø­Ø¸',
          timeExtender: 'Ù…ÙˆØ³Ø¹ Ø§Ù„ÙˆÙ‚Øª',
          comboMaster: 'Ø³ÙŠØ¯ Ø§Ù„ÙƒÙˆÙ…Ø¨Ùˆ',
          goldMagnet: 'Ù…ØºÙ†Ø§Ø·ÙŠØ³ Ø§Ù„Ø°Ù‡Ø¨',
          rainbow: 'Ù‚ÙˆØ³ Ù‚Ø²Ø­'
        };
        
        addMessage(`ğŸ›’ ØªÙ… Ø´Ø±Ø§Ø¡ ${itemNames[itemKey]} Ø¨Ù†Ø¬Ø§Ø­!`);
        
        // Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„Ø´Ø±Ø§Ø¡
        if (navigator.vibrate) {
          navigator.vibrate([100, 50, 100]);
        }
      }
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
    function updateSkills() {
      Object.keys(skills).forEach(skillKey => {
        const skill = skills[skillKey];
        const button = document.getElementById(skillKey + 'Skill');
        const levelSpan = document.getElementById(skillKey + 'Level');
        const costSpan = document.getElementById(skillKey + 'Cost');
        
        levelSpan.textContent = skill.level;
        
        if (skill.level >= skill.maxLevel) {
          button.classList.add('maxed');
          button.disabled = true;
          costSpan.textContent = 'Ù…ÙƒØªÙ…Ù„';
        } else {
          const cost = getSkillCost(skillKey);
          costSpan.textContent = cost;
          button.disabled = gold < cost;
        }
      });
    }

    function getSkillCost(skillKey) {
      const skill = skills[skillKey];
      return Math.floor(skill.baseCost * Math.pow(1.5, skill.level));
    }

    function upgradeSkill(skillKey) {
      const skill = skills[skillKey];
      if (skill.level < skill.maxLevel) {
        const cost = getSkillCost(skillKey);
        if (gold >= cost) {
          gold -= cost;
          skill.level++;
          updateDisplay();
          updateSkills();
          
          const skillNames = {
            strength: 'Ø§Ù„Ù‚ÙˆØ©',
            speed: 'Ø§Ù„Ø³Ø±Ø¹Ø©',
            luck: 'Ø§Ù„Ø­Ø¸',
            focus: 'Ø§Ù„ØªØ±ÙƒÙŠØ²',
            persistence: 'Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©',
            wisdom: 'Ø§Ù„Ø­ÙƒÙ…Ø©'
          };
          
          addMessage(`âš¡ ØªÙ… ØªØ±Ù‚ÙŠØ© ${skillNames[skillKey]} Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ${skill.level}!`);
          
          // Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„ØªØ±Ù‚ÙŠØ©
          if (navigator.vibrate) {
            navigator.vibrate([150, 75, 150]);
          }
        }
      }
    }

    // ÙØ­Øµ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª (Ù…Ø­Ø¯Ø«Ø©)
    function checkAchievements() {
      const achievementsList = [
        { id: 'first_click', name: 'Ø£ÙˆÙ„ Ø®Ø·ÙˆØ©', desc: 'Ø£ÙˆÙ„ Ù†Ù‚Ø±Ø©!', check: () => clicks >= 1 },
        { id: 'ten_clicks', name: 'Ù…Ø¨ØªØ¯Ø¦', desc: '10 Ù†Ù‚Ø±Ø§Øª', check: () => clicks >= 10 },
        { id: 'fifty_clicks', name: 'Ù…ØªØ­Ù…Ø³', desc: '50 Ù†Ù‚Ø±Ø©', check: () => clicks >= 50 },
        { id: 'hundred_clicks', name: 'Ù…Ø­ØªØ±Ù', desc: '100 Ù†Ù‚Ø±Ø©', check: () => clicks >= 100 },
        { id: 'five_hundred_clicks', name: 'Ù…Ø§Ù‡Ø±', desc: '500 Ù†Ù‚Ø±Ø©', check: () => clicks >= 500 },
        { id: 'thousand_clicks', name: 'Ø®Ø¨ÙŠØ±', desc: '1000 Ù†Ù‚Ø±Ø©', check: () => clicks >= 1000 },
        { id: 'level_5', name: 'ØµØ§Ø¹Ø¯', desc: 'ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 5', check: () => level >= 5 },
        { id: 'level_10', name: 'Ù…ØªÙ‚Ø¯Ù…', desc: 'ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 10', check: () => level >= 10 },
        { id: 'combo_10', name: 'ÙƒÙˆÙ…Ø¨Ùˆ Ù…Ø§Ø³ØªØ±', desc: 'ÙƒÙˆÙ…Ø¨Ùˆ 10x', check: () => combo >= 10 },
        { id: 'combo_25', name: 'ÙƒÙˆÙ…Ø¨Ùˆ Ù„ÙŠØ¬Ù†Ø¯', desc: 'ÙƒÙˆÙ…Ø¨Ùˆ 25x', check: () => combo >= 25 },
        { id: 'first_gold', name: 'Ø£ÙˆÙ„ Ø°Ù‡Ø¨', desc: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ù‚Ø·Ø¹Ø© Ø°Ù‡Ø¨', check: () => gold >= 1 },
        { id: 'rich', name: 'Ø«Ø±ÙŠ', desc: 'Ø§Ø¬Ù…Ø¹ 100 Ø°Ù‡Ø¨', check: () => gold >= 100 },
        { id: 'shopaholic', name: 'Ù…Ø¯Ù…Ù† ØªØ³ÙˆÙ‚', desc: 'Ø§Ø´ØªØ± 3 Ø¹Ù†Ø§ØµØ±', check: () => Object.values(shopItems).filter(item => item.owned).length >= 3 },
        { id: 'skilled', name: 'Ù…Ø§Ù‡Ø±', desc: 'Ø§Ø±Ù‚ Ù…Ù‡Ø§Ø±Ø© Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ 5', check: () => Object.values(skills).some(skill => skill.level >= 5) },
        { id: 'master', name: 'Ø³ÙŠØ¯', desc: 'Ø§ÙƒÙ…Ù„ Ù…Ù‡Ø§Ø±Ø© ÙˆØ§Ø­Ø¯Ø©', check: () => Object.values(skills).some(skill => skill.level >= 10) }
      ];

      achievementsList.forEach(achievement => {
        if (!achievements.includes(achievement.id) && achievement.check()) {
          achievements.push(achievement.id);
          showAchievement(achievement);
        }
      });
    }

    function checkSpeedAchievement() {
      if (!achievements.includes('speed_demon')) {
        achievements.push('speed_demon');
        showAchievement({ id: 'speed_demon', name: 'Ø´ÙŠØ·Ø§Ù† Ø§Ù„Ø³Ø±Ø¹Ø©', desc: 'Ù†Ù‚Ø± Ø³Ø±ÙŠØ¹' });
      }
    }

    function showAchievement(achievement) {
      const achievementEl = document.createElement('div');
      achievementEl.classList.add('achievement');
      achievementEl.innerHTML = `ğŸ† Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯: <strong>${achievement.name}</strong><br>${achievement.desc}`;
      document.getElementById('achievements').appendChild(achievementEl);
      
      // Ø§Ù‡ØªØ²Ø§Ø² Ù„Ù„Ø¥Ù†Ø¬Ø§Ø²
      if (navigator.vibrate) {
        navigator.vibrate([100, 50, 100, 50, 200]);
      }
      
      setTimeout(() => {
        achievementEl.style.opacity = '0.8';
      }, 5000);
    }

    function resetGame() {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ù‚Ø§Ù‹ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©ØŸ Ø³ÙŠØªÙ… ÙÙ‚Ø¯Ø§Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯Ù…!')) {
        score = 0;
        gold = 0;
        clicks = 0;
        level = 1;
        combo = 0;
        clickPower = 1;
        achievements = [];
        doublePointsActive = false;
        autoClickerActive = false;
        megaComboActive = false;
        goldenRushActive = false;
        lastClickTime = 0;
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØ¬Ø±
        Object.keys(shopItems).forEach(key => {
          shopItems[key].owned = false;
        });
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        Object.keys(skills).forEach(key => {
          skills[key].level = 0;
        });
        
        clearTimeout(comboTimer);
        
        texts.innerHTML = '';
        document.getElementById('achievements').innerHTML = '';
        
        updateDisplay();
        updatePowerButtons();
        updateShop();
        updateSkills();
        
        addMessage('ğŸ® ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯!');
      }
    }

    // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ¨ÙŠØ± ÙˆØ§Ù„Ø³Ø­Ø¨
    document.addEventListener('gesturestart', function (e) {
      e.preventDefault();
    });

    document.addEventListener('touchmove', function(e) {
      if (e.touches.length > 1) {
        e.preventDefault();
      }
    }, { passive: false });

    // ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ„ÙŠ
    updateDisplay();
    updatePowerButtons();
    updateShop();
    updateSkills();
    addMessage('ğŸ‰ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© ÙˆØ³ÙŠÙ… Ù†ÙˆØ¨ Ø§Ù„Ù…Ø·ÙˆØ±Ø©! Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù†Ù‚Ø± Ù„ÙƒØ³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø°Ù‡Ø¨!');